# VS Code代码评论扩展测试指南

## 测试环境启动

1. **启动扩展开发环境**
   - 按 `F5` 或使用命令面板运行 "Run Extension"
   - 这将打开一个新的VS Code窗口，扩展已在其中激活

2. **打开测试文件**
   - 在新窗口中打开 `test-file.js` 或任何其他代码文件

## 核心功能测试

### 1. 添加评论
- **方法1**: 选择代码文本 → 右键 → "添加代码评论"
- **方法2**: 选择代码文本 → 按 `Ctrl+Shift+C`
- **方法3**: 命令面板 → "Code Review: Add Comment"

### 2. 查看评论
- **悬停查看**: 将鼠标悬停在高亮的代码上查看评论详情
- **树视图**: 
  - 侧边栏 → "当前文件评论" 面板
  - 侧边栏 → "所有评论" 面板

### 3. 评论回复和线程
- 点击树视图中的评论 → "回复" 按钮
- 查看完整的评论线程

### 4. 评论状态管理
- **解决评论**: 右键评论 → "解决评论"
- **重新打开**: 右键已解决评论 → "重新打开评论"
- **视觉区别**: 
  - 未解决评论：实线边框高亮
  - 已解决评论：虚线边框高亮

### 5. 过滤功能
- 树视图工具栏中的过滤按钮：
  - 📝 显示所有评论
  - ✅ 只显示已解决评论  
  - ❌ 只显示未解决评论

### 6. 用户颜色系统
- 不同用户的评论会显示不同颜色
- 8种预设颜色方案，自动分配

## 演示功能测试

### 创建测试评论
使用命令 "Code Review: Create Test Comments" 来生成示例评论：
- 来自多个不同用户的评论
- 包含回复线程
- 不同的解决状态
- 演示颜色编码系统

## 高级功能测试

### 1. 跨文件评论管理
- 在多个文件中添加评论
- 使用"所有评论"面板查看整个工作区的评论

### 2. 导航功能
- 点击树视图中的评论可跳转到对应代码位置
- 使用文件分组快速定位

### 3. 持久化存储
- 关闭并重新打开VS Code
- 验证评论数据是否保持

## 预期行为验证

### ✅ 正确行为
- 评论高亮显示正确的颜色和边框样式
- 悬停提示显示完整的评论信息
- 树视图正确分组和过滤评论
- 评论状态切换立即生效
- 多用户颜色正确分配

### ❌ 需要报告的问题
- 高亮颜色不显示或错误
- 悬停提示不出现
- 树视图空白或崩溃
- 评论数据丢失
- 命令执行失败

## 性能测试

### 大文件测试
- 打开包含1000+行的大文件
- 添加多个评论
- 验证性能是否可接受

### 多评论测试
- 在单个文件中添加20+评论
- 测试滚动和导航性能

## 故障排除

### 扩展未激活
- 检查左下角状态栏是否显示扩展信息
- 查看开发者控制台 (`Ctrl+Shift+I`) 是否有错误

### 命令不可用
- 重新加载窗口 (`Ctrl+R`)
- 检查命令面板中是否有 "Code Review" 相关命令

### 数据丢失
- 检查工作区 `.vscode/code-review-comments.json` 文件
- 验证是否有写入权限

## 测试清单

- [ ] 添加评论功能正常
- [ ] 评论高亮显示
- [ ] 悬停提示工作
- [ ] 树视图显示评论
- [ ] 评论回复功能
- [ ] 解决/重新打开评论
- [ ] 过滤功能正常
- [ ] 用户颜色区分
- [ ] 跨文件评论管理
- [ ] 数据持久化
- [ ] 性能可接受

## 反馈收集

测试完成后，请记录：
1. 发现的任何bug或问题
2. 用户体验改进建议
3. 性能问题
4. 功能请求

---

*该扩展仍在开发阶段，欢迎提供详细的测试反馈！*
