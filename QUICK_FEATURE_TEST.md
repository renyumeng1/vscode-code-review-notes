# 🚀 三大新功能快速测试指南

## 准备工作
1. 在VS Code中按 `F5` 启动扩展调试模式
2. 在新的扩展开发宿主窗口中打开 `new-features-test-demo.js` 文件

## 功能测试清单

### ✅ 功能1: 内联"Add Comment"UI测试

**步骤**:
1. 在 `new-features-test-demo.js` 中选中任意代码行（点击行号或选中文本）
2. 观察是否出现"Add Comment"相关的UI元素：
   - 状态栏可能显示 `$(comment-add) Add Comment`
   - 或者其他形式的添加评论提示

**预期结果**:
- 选中代码行时应显示添加评论的UI
- 点击UI元素应能触发添加评论操作
- UI应在3秒后自动隐藏

### ✅ 功能2: 删除评论功能测试

**步骤**:
1. 先添加一个评论到代码行：
   - 选中第10行左右的代码 (`addUser(name, email) {`)
   - 按 `Ctrl+Shift+P` → 搜索 "Add Comment"
   - 添加评论内容，如："这个方法需要添加参数验证"

2. 测试删除评论：
   - 方法1: 按 `Ctrl+Shift+P` → 搜索 "Delete Comment"
   - 方法2: 右键点击有评论的行 → 查找删除评论选项

**预期结果**:
- 应能成功删除评论
- 评论装饰器和标记应消失
- 不应有残留的UI元素

### ✅ 功能3: 实时监控测试

**步骤**:
1. 在已有评论的代码行上方插入新行：
   ```javascript
   // 在第9行插入这个注释
   // 新增的代码行，用于测试位置跟踪
   ```
2. 在已有评论的代码行下方插入新行
3. 保存文件 (`Ctrl+S`)
4. 检查评论位置是否正确更新

**预期结果**:
- 评论标记应跟随代码移动
- 后台监控应静默运行，无用户感知
- 评论面板中的行号应正确更新

## 🔍 详细测试方法

### 命令面板测试
按 `Ctrl+Shift+P` 搜索以下命令：
- `Add Comment` - 添加评论
- `Delete Comment` - 删除评论  
- `Show Comments` - 显示评论面板

### 右键菜单测试
在代码行上右键，查找：
- "Add Comment" 选项
- "Delete Comment" 选项（仅在有评论的行显示）

### 输出面板检查
1. 打开 VS Code 输出面板 (`Ctrl+Shift+U`)
2. 在下拉菜单中选择 "Code Review Notes"
3. 观察监控和操作的日志信息

## 🐛 常见问题排查

### 如果功能不工作
1. **检查扩展是否激活**:
   - 查看状态栏是否有相关图标
   - 检查命令面板是否有相关命令

2. **检查开发者控制台**:
   - 按 `Ctrl+Shift+I` 打开开发者工具
   - 查看 Console 中是否有错误信息

3. **重新编译扩展**:
   ```powershell
   cd "e:\Graduate\code\VSCode Reviewer Tools"
   npm run compile
   ```

4. **重启调试会话**:
   - 关闭扩展开发宿主窗口
   - 重新按 `F5` 启动

## 🎯 测试重点

### 性能测试
- 在大文件中测试监控性能
- 快速编辑时观察响应速度
- 长时间使用后检查内存使用

### 边界情况测试
- 空文件测试
- 超长行测试
- 特殊字符处理
- 多文件同时编辑

## ✅ 成功标准

**功能1 - 内联UI**: 
- ✅ 选中代码行时显示UI
- ✅ UI交互正常工作
- ✅ 自动隐藏机制正常

**功能2 - 删除评论**:
- ✅ 多种删除方式都工作
- ✅ 评论完全清理
- ✅ 无UI残留

**功能3 - 实时监控**:
- ✅ 代码变化时评论位置更新
- ✅ 静默运行无干扰
- ✅ 性能表现良好

## 📝 测试记录

测试时请记录：
- [ ] 功能1测试结果: ___________
- [ ] 功能2测试结果: ___________
- [ ] 功能3测试结果: ___________
- [ ] 发现的问题: ___________
- [ ] 改进建议: ___________
